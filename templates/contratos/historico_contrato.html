{% extends 'home/base.html' %}
{% block content %}
  <div class="container mx-auto px-4 py-8">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Histórico do Contrato: {{ contrato.referencia_contrato }}</h2>
    <table class="min-w-full bg-white border border-gray-300 rounded-lg shadow-md">
      <thead class="bg-gray-100">
        <tr>
          <th class="text-left px-4 py-2 border-b border-gray-300">Data</th>
          <th class="text-left px-4 py-2 border-b border-gray-300">Ação</th>
          <th class="text-left px-4 py-2 border-b border-gray-300">Campos Alterados</th>
          <th class="text-left px-4 py-2 border-b border-gray-300">Usuário</th>
        </tr>
      </thead>
      <tbody>
        {% for alteracao in alteracoes %}
          <tr class="hover:bg-gray-50">
            <td class="px-4 py-2 border-b border-gray-300 text-sm text-gray-700">{{ alteracao.data|date:'d/m/Y H:i' }}</td>
            <td class="px-4 py-2 border-b border-gray-300 text-sm text-gray-700">{{ alteracao.acao }}</td>
            <td class="px-4 py-2 border-b border-gray-300 text-sm text-gray-700">{{ alteracao.campos_alterados }}</td>
            <td class="px-4 py-2 border-b border-gray-300 text-sm text-gray-700">{{ alteracao.usuario.username }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="4" class="px-4 py-4 text-center text-sm text-gray-500">Nenhuma alteração registrada.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="{% url 'listar_contratos' %}" class="mt-6 inline-flex items-center px-4 py-2 bg-sky-900 text-white text-sm font-medium rounded-md shadow-md hover:bg-sky-600 transition duration-200">⤶ Voltar</a>
  </div>
{% endblock %}
